/*! For license information please see main.730ae731.chunk.js.LICENSE.txt */
(this["webpackJsonpformelio-example"]=this["webpackJsonpformelio-example"]||[]).push([[0],{105:function(e,t,n){e.exports=n(475)},106:function(e,t,n){},114:function(e,t,n){},475:function(e,t,n){"use strict";n.r(t);n(106);var a=n(0),r=n.n(a),o=n(22),i=n.n(o),l=n(7),c=n.n(l),s=n(14),u=n(55),d=n(483),p=n(481),m=(n(114),n(93)),v=n(52),f=n(24),b=n(56),h=n(54),g=n(2),y=n(102),j=n(5),O=n(94),E=n.n(O),_=n(53),C=n.n(_),x=n(101),w=n(15),S=n(96),F=n(95),k=n(482),D="_index-module__formelio__QAz4S",N="_index-module__fieldWrapper__1rQSW",T="_index-module__field__iIm50",V="_index-module__isDisabled__1miDV",B="_index-module__icon__2fM3J",I="_index-module__isFocused__26oNs",H="_index-module__isErrored__1Pzve",R="_index-module__isEmpty__3bNcE",A="_index-module__hintTarget__3vamT",z="_index-module__hint__3vCgW",q="_index-module__checkbox__cgJIN",J="_index-module__arrow__61D2d";var P=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],a=0;a<arguments.length;a++){var r=arguments[a];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)){if(r.length){var i=n.apply(null,r);i&&e.push(i)}}else if("object"===o)if(r.toString===Object.prototype.toString)for(var l in r)t.call(r,l)&&r[l]&&e.push(l);else e.push(r.toString())}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n}()})),W="#5196D5",L="#D65947",M={test:"_styles-module__test__3ybTi"},Q=function(e){var t=e.options,n=e.type,o=Object(j.a)(Object(j.a)({},e),function(e){var t=e.colors,n=e.isErrored,a=e.isFocused,r="inherit";return n?r=(null===t||void 0===t?void 0:t.error)||L:a&&(r=(null===t||void 0===t?void 0:t.accent)||W),{borderColor:r}}(e));return t?function(e){var t,n={control:function(){return{background:"none !important",borderBottom:"solid 0.13em",borderColor:e.borderColor,cursor:"text",display:"flex",transition:"0.2s ease-in-out"}},indicatorSeparator:function(){return{display:"none"}},indicatorsContainer:function(){return{display:"none"}},input:function(e){return Object(j.a)(Object(j.a)({},e),{},{color:"inherit"})},option:function(t,n){var a,r;return{background:n.isSelected?(null===(a=e.colors)||void 0===a?void 0:a.accent)||W:n.isFocused?((null===(r=e.colors)||void 0===r?void 0:r.accent)||W)+"1F":"white",color:n.isSelected?"white":"#555",padding:"0.25em 0.5em"}},placeholder:function(){return{display:"none"}},singleValue:function(){var t;return{color:e.isErrored?(null===(t=e.colors)||void 0===t?void 0:t.error)||L:"inherit",overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",width:"100%"}},valueContainer:function(e){return Object(j.a)(Object(j.a)({},e),{},{alignItems:"flex-end",margin:"0",marginTop:"0.3em",padding:"0"})}};return r.a.createElement(x.a,{name:e.name,menuPlacement:"bottom",options:e.options,styles:n,isDisabled:e.disabled,onFocus:e.onFocus,onBlur:e.onBlur,onChange:function(t){e.onChange(t&&t.value)},value:null===(t=e.options)||void 0===t?void 0:t.filter((function(t){return t.value===e.value}))})}(o):"files"===n?function(e){var t,n,o=Object(a.createRef)(),i=Object(a.createRef)(),l=function(){e.onBlur(),document.body.onfocus=null};return r.a.createElement(a.Fragment,null,r.a.createElement("input",Object.assign({},e,{autoComplete:void 0,value:"",ref:o,style:{display:"none"},type:"file",multiple:!0,accept:(null===(n=e.extensions)||void 0===n?void 0:n.join(","))||void 0,onChange:function(t){var n=t.target.files;e.onChange(Object(y.a)(n))},onBlur:l})),r.a.createElement("input",{autoComplete:e.autocomplete,className:P((t={},Object(g.a)(t,M.isErrored,e.isErrored),Object(g.a)(t,M.hasHint,e.hasHint),t)),style:{borderColor:e.borderColor,color:"inherit"},value:e.value?e.value.map((function(e){return'"'.concat(e.name,'"')})).join(", "):void 0,ref:i,onFocus:function(){var t,n;null===(t=i.current)||void 0===t||t.blur(),null===(n=o.current)||void 0===n||n.click(),e.onFocus(),document.body.onfocus=l},readOnly:!0}))}(o):"check"===n?function(e){return r.a.createElement("input",Object.assign({},e,{id:e.name,autoComplete:e.autocomplete,type:"checkbox",defaultValue:e.value,onChange:function(t){return e.onChange(!!t.target.value)},value:""}))}(o):"text-multiline"===n?function(e){var t;return r.a.createElement("textarea",Object.assign({},e,{className:P((t={},Object(g.a)(t,M.isErrored,e.isErrored),Object(g.a)(t,M.hasHint,e.hasHint),t)),style:{borderColor:e.borderColor,color:"inherit"},autoComplete:e.autocomplete,readOnly:!e.isFocused,defaultValue:e.value,onFocus:e.onFocus,onBlur:e.onBlur,onChange:function(t){return e.onChange(t.target.value)}}))}(o):function(e){var t;return r.a.createElement("input",Object.assign({},e,{className:P((t={},Object(g.a)(t,M.isErrored,e.isErrored),Object(g.a)(t,M.hasHint,e.hasHint),t)),style:{borderColor:e.borderColor,color:"inherit"},autoComplete:e.autocomplete,readOnly:!e.isFocused,type:e.type||"text",defaultValue:e.value,onFocus:e.onFocus,onBlur:e.onBlur,onChange:function(t){return e.onChange(t.target.value)}}))}(o)};w.b.add(S.a);var U=function(e){return r.a.createElement(F.a,{icon:e.id,style:{color:"inherit"}})};function G(e){var t=e.colors,n=e.errors,o=e.help,i=e.isDirty,l=e.isFocused,c=e.isTyping,s=!!n.length&&!c&&i,u=Object(a.createRef)(),d=Object(a.createRef)();Object(a.useEffect)((function(){u.current&&d.current&&Object(k.a)(u.current,d.current,{placement:"top-start"})}),[]);var p=void 0;s?p=(null===t||void 0===t?void 0:t.error)||L:l&&(p=(null===t||void 0===t?void 0:t.accent)||W);var m=s?n.join("\n\n"):o;return r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:A,ref:u}),r.a.createElement("div",{className:z,ref:d,style:{backgroundColor:p}},r.a.createElement(C.a,{disallowedTypes:["paragraph"],allowDangerousHtml:!0,unwrapDisallowed:!0},l&&m||""),r.a.createElement("div",{className:J,"data-popper-arrow":!0})))}var K=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(e){var a,o;return Object(v.a)(this,n),a=t.call(this,e),o=Object(f.a)(a),a.typingTimeout=void 0,a.getStateAndValidate=function(e){var t=Object(j.a)(Object(j.a)({},n.initialState),{},{value:e.value});return a.validate(e),t},a.validate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.props;e.validator(e.value).then((function(e){return a.setState({errors:e||[]})}))},a.componentDidUpdate=function(e){if(e.value!==a.state.value){var t=Object(j.a)(Object(j.a)({},a.getStateAndValidate(a.props)),{},{isDirty:a.state.isDirty,isFocused:a.state.isFocused,isTyping:a.state.isTyping});a.setState(t)}},a.onChange=function(){var e=Object(s.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return clearTimeout(o.typingTimeout),o.typingTimeout=setTimeout((function(){o.setState({isTyping:!1})}),1e3),n=o.props.validator,e.next=5,n(t);case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0=["x"];case 8:a=e.t0,o.setState({errors:a,isDirty:!0,isTyping:!0,value:t}),o.props.onChange(t,!a.length);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.renderStateIcon=function(){var e,t=a.props.colors,n=a.state,o=n.errors,i=n.isDirty,l=n.isFocused,c=n.isTyping,s=!!o.length&&!c&&i,u="inherit";return s?u=(null===t||void 0===t?void 0:t.error)||L:l&&(u=(null===t||void 0===t?void 0:t.accent)||W),r.a.createElement("div",{className:P((e={},Object(g.a)(e,B,!0),Object(g.a)(e,I,l),Object(g.a)(e,H,s),e)),style:{color:u}},r.a.createElement(U,{id:s?"exclamation-triangle":"question-circle"}))},a.renderInput=function(){var e=a.props.help,t=a.state,n=t.errors,o=t.isDirty,i=t.isFocused,l=t.isTyping,c=t.value,s=!!n.length&&!l&&o;return r.a.createElement(Q,Object.assign({},a.props,{hasHint:s||!!e,isErrored:s,isFocused:i,value:c,onChange:a.onChange,onFocus:function(){return a.setState({isFocused:!0})},onBlur:function(){return a.setState({isFocused:!1})}}))},a.renderLabel=function(){var e,t=a.props,n=t.colors,o=t.disabled,i=t.icon,l=t.label,c=t.name,s=t.required,u=a.state,d=u.errors,p=u.isDirty,m=u.isFocused,v=u.isTyping,f=u.value,b=!f,h="inherit";return!!d.length&&!v&&p?h=(null===n||void 0===n?void 0:n.error)||L:m&&(h=(null===n||void 0===n?void 0:n.accent)||W),r.a.createElement("label",{className:P((e={},Object(g.a)(e,I,m),Object(g.a)(e,R,b),Object(g.a)(e,V,o),e)),style:{color:h}},r.a.createElement("span",{style:{flex:1}},i&&r.a.createElement(U,{id:i})," ",l||c," ",s&&r.a.createElement("span",null,"*")),Array.isArray(f)&&!!f.length&&r.a.createElement("span",null,"(",f.length,")"))},a.renderCheckbox=function(){var e=a.props,t=e.label,n=e.name;return r.a.createElement("div",{className:"".concat(q),style:{color:"inherit"}},a.renderInput()," ",r.a.createElement("label",{htmlFor:n},r.a.createElement(C.a,{disallowedTypes:["paragraph"],allowDangerousHtml:!0,unwrapDisallowed:!0},t||n)))},a.render=function(){var e,t=a.props,n=t.disabled,o=t.help,i=t.type,l=a.state,c=l.errors,s=void 0===c?[]:c,u=l.isDirty,d=l.isTyping,p=l.isFocused,m=!!s.length&&!d&&u,v=(m||o)&&p;return"check"===i?a.renderCheckbox():r.a.createElement("div",{className:P((e={},Object(g.a)(e,T,!0),Object(g.a)(e,H,m),Object(g.a)(e,V,n),e))},a.renderLabel(),a.renderInput(),v&&a.renderStateIcon(),v&&r.a.createElement(G,Object.assign({},a.props,a.state)))},a.state=a.getStateAndValidate(e),a}return n}(a.Component);K.initialState={errors:[],isDirty:!1,isFocused:!1,isTyping:!1,value:void 0};var X=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).propagateOnChange=E.a.debounce((function(){var e=!Object.values(a.state.validity).some((function(e){return!e}));a.props.onChange(a.state.value,e)}),a.props.delay||500),a.componentDidUpdate=function(e){e.value!==a.props.value&&a.setState({value:a.props.value||{}})},a.render=function(){var e=a.props.fields,t=a.state.value;return r.a.createElement("div",{className:D},r.a.createElement("form",null,e.map((function(e){return r.a.createElement("div",{key:e.name,className:N,style:{flexBasis:100*(e.size||1)+"%"}},function(e,t,n,a){switch(e.type){case"date":case"number":case"files":case"check":default:return r.a.createElement(Y,Object.assign({},{colors:a,field:e,formValue:t,onChange:n}))}}(e,t,a.onChange.bind(Object(f.a)(a)),a.props.colors))}))))},a.state={validity:{something:!1},value:a.props.value||{}},Promise.all(e.fields.map(function(){var t=Object(s.a)(c.a.mark((function t(n){var a,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z(n,null===(a=e.value)||void 0===a?void 0:a[n.name],e.value);case 2:return r=t.sent,t.abrupt("return",r.length>0);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())).then((function(t){var n={};e.fields.forEach((function(e,a){n[e.name]=!t[a]})),a.setState({validity:n})})),a}return Object(m.a)(n,[{key:"onChange",value:function(e,t,n){this.setState({validity:Object(j.a)(Object(j.a)({},this.state.validity),{},Object(g.a)({},e.name,n)),value:Object(j.a)(Object(j.a)({},this.state.value),{},Object(g.a)({},e.name,t))}),this.propagateOnChange()}}]),n}(a.Component);function Y(e){var t=Object(a.createRef)(),n=function(){var t=Object(s.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Z(e.field,n,e.formValue));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e;null===(e=t.current)||void 0===e||e.validate()}),[e.formValue]),r.a.createElement(K,Object.assign({},e.field,{colors:e.colors,ref:t,value:e.formValue[e.field.name],onChange:function(t,n){return e.onChange(e.field,t,n)},validator:n}))}function Z(e,t,n){return $.apply(this,arguments)}function $(){return($=Object(s.a)(c.a.mark((function e(t,n,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.required||n){e.next=2;break}return e.abrupt("return",["Required field"]);case 2:if(t.validator){e.next=4;break}return e.abrupt("return",[]);case 4:return e.abrupt("return",t.validator(n,a||{}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ee={title:"Basic usage",description:"\nHello bla bla, this is an example\n\nwith two lines\n",Component:function(e){var t=e.value,n=e.onChange;return r.a.createElement(X,{fields:[{name:"name",required:!0,size:.5},{name:"surname",size:.5},{name:"birthday",type:"date"}],value:t,onChange:n})},source:{fields:"\nconst fields = [\n  { name: 'name', required: true, size: 0.5 },\n  { name: 'surname', size: 0.5 },\n  { name: 'birthday', type: 'date' },\n];\n".trim(),initialState:"{}"},tileClass:"is-light"};function te(e){var t=Object(a.useState)({}),n=Object(u.a)(t,2),o=n[0],i=n[1],l=Object(a.useState)(!1),m=Object(u.a)(l,2),v=m[0],f=m[1],b=function(){var e=Object(s.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(t),f(n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,e.title),r.a.createElement("p",null,e.description),r.a.createElement("div",{className:"tile is-parent"},r.a.createElement("div",{className:"tile is-child notification ".concat(e.tileClass," content")},r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement("div",{style:{flex:1,marginBottom:"1em"}},r.a.createElement("h4",null,"Result"),r.a.createElement(e.Component,{onChange:b,value:o})),r.a.createElement("div",{style:{flex:0}},r.a.createElement("h4",null,"State"),r.a.createElement(d.a,{language:"javascript",style:p.a},JSON.stringify({isValid:v,value:o},null,2))))),r.a.createElement("div",{className:"tile is-child notification is-light content",style:{borderRadius:0,overflow:"hidden",padding:"1em",flexDirection:"column"}},r.a.createElement("h4",null,"Source code"),r.a.createElement(d.a,{language:"javascript",style:p.a},function(e){var t,n,a=e.fields,r=e.initialState;return"\nimport React, { useState } from 'react';\nimport { Form } from 'formelio';\n\nconst MyForm = () => {\n  const [value, setValue] = useState(".concat(r,");\n  const [isValid, setIsValid] = useState(false);\n  const onChange = (value, isValid) => {\n    setValue(value);\n    setIsValid(isValid);\n  };\n").concat((t=a,n=2,t.split("\n").map((function(e){return"".concat(" ".repeat(n)).concat(e)})).join("\n").trimEnd()),"\n  return (\n    <Form {...{fields, value, onChange}} />\n  );\n}").trim()}(e.source)))))}var ne=function(){return r.a.createElement("div",{className:"container"},r.a.createElement(te,ee))};i.a.render(r.a.createElement(ne,null),document.getElementById("root"))}},[[105,1,2]]]);
//# sourceMappingURL=main.730ae731.chunk.js.map